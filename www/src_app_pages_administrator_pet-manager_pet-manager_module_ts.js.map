{"version":3,"file":"src_app_pages_administrator_pet-manager_pet-manager_module_ts.js","mappings":"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","sources":["./src/app/pages/administrator/pet-manager/new-specie/new-specie.component.ts","./src/app/pages/administrator/pet-manager/pet-manager-routing.module.ts","./src/app/pages/administrator/pet-manager/pet-manager.module.ts","./src/app/pages/administrator/pet-manager/pet-manager.page.ts","./src/app/pages/administrator/pet-manager/specie-detail/specie-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { attachmentOptions } from 'src/app/core/models/images';\nimport { Breed, Species } from 'src/app/core/models/species';\nimport { ImageUploaderService } from 'src/app/core/services/image-uploader.service';\nimport { PetService } from 'src/app/core/services/pet-service.service';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { AttachmentsService } from 'src/app/shared/utilities/attachments.service';\n\n@Component({\n  selector: 'app-new-specie',\n  templateUrl: './new-specie.component.html',\n  styleUrls: ['./new-specie.component.scss'],\n})\nexport class NewSpecieComponent implements OnInit {\n  loading = false;\n  progress=0;\n\n  newImage;\n  newSpecie: Species;\n  newBreeds: Breed[] = [];\n\n  validationMessages\n  newSpecieForm: FormGroup;\n\n  constructor(\n    private pets: PetService,\n    private alerts: AlertsService,\n    private upload: ImageUploaderService,\n    private images: AttachmentsService,\n    public modal: ModalController,\n    private formBuilder: FormBuilder,\n  ) { }\n\n  ngOnInit() {\n    this.validationMessages = {\n      name:[ {type: 'required', message: ' Se requiere el nombre de especie'},],\n      description:[ {type: 'required', message: ' Se requiere una descripciÃ³n de la especie'},],\n    };\n    this.newSpecieForm = this.formBuilder.group({\n      name:[null, { validators: [Validators.required] }],\n      description:[null, { validators: [Validators.required] }]\n    });\n  }\n\n  // IMAGE SYSTEM\n  addPhoto() {\n    const options: attachmentOptions = {\n      currentRoute: 'manager/species',\n      height:null, width:null, pdf: false\n    }\n    this.images.presentImageOptions(options).then(imageObj => {\n      if (imageObj[0] !== undefined){\n        this.newImage = imageObj[0];\n      }\n    });\n  }\n\n  saveSpecie(){\n    const imageName = Date().toString()+'_Specie'+this.newSpecieForm.value.name;\n    this.upload.uploadFile('SpeciesList',imageName, this.newImage.file,\n    (progress)=>{ this.progress = progress })\n    .then((data:any) => {\n      console.log(data.url);\n      this.upload.deletePicture();\n      let newSpecie: Species = {\n        name: this.newSpecieForm.value.name,\n        description: this.newSpecieForm.value.description,\n        photo: data.url\n      }\n      this.pets.createSpecies(newSpecie)\n      .then(doc => {\n        console.log(doc)\n        this.alerts.showAlert('ESPECIES','La nueva especie ha sido agregada','OK');\n        this.modal.dismiss(true);\n        this.newImage = null;\n      })\n      .catch(error => { console.log(error); })\n    })\n  }\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PetManagerPage } from './pet-manager.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PetManagerPage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PetManagerPageRoutingModule {}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PetManagerPageRoutingModule } from './pet-manager-routing.module';\n\nimport { PetManagerPage } from './pet-manager.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { NewSpecieComponent } from './new-specie/new-specie.component';\nimport { SpecieDetailComponent } from './specie-detail/specie-detail.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    PetManagerPageRoutingModule,\n    SharedModule\n  ],\n  declarations: [\n    PetManagerPage,\n    NewSpecieComponent,\n    SpecieDetailComponent\n  ]\n})\nexport class PetManagerPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { BreedColor } from 'src/app/core/models/species';\nimport { PetService } from 'src/app/core/services/pet-service.service';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { NewSpecieComponent } from './new-specie/new-specie.component';\nimport { SpecieDetailComponent } from './specie-detail/specie-detail.component';\n\n@Component({\n  selector: 'app-pet-manager',\n  templateUrl: './pet-manager.page.html',\n  styleUrls: ['./pet-manager.page.scss'],\n})\nexport class PetManagerPage implements OnInit {\n  loading = true;\n  loadingColor = false;\n  loadingList = [1,2,3,4,5]\n  name: string;\n  \n  selectedTab = 'list'\n  petList:any[] = [];\n  speciesList = [];\n\n  newColorShow = false;\n  newColor: BreedColor;\n  colorList = [];\n\n  constructor(\n    private pets: PetService,\n    private alerts: AlertsService,\n    private modal: ModalController,\n    private routerOutlet: IonRouterOutlet,\n  ) { }\n\n  ngOnInit() {\n    this.loadData();\n  }\n\n  async loadData(){\n    this.loading = true;\n    await this.loadPets();\n    await this.loadSpecies();\n    this.loading = false;\n  }\n\n  async loadPets(){\n    try {\n      this.petList = await this.pets.readPetList();\n      return 'done';\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  \n  async loadSpecies(){\n    try {\n      this.speciesList = await this.pets.readSpecies();\n      this.colorList = await this.pets.readColors();\n      return 'done';\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async doRefresh(refresh?){\n    if(this.selectedTab === 'list'){\n      await this.loadPets();\n    }else{\n      await this.loadSpecies();\n    }\n    if (refresh){ refresh.target.complete(); }\n  }\n\n  segmentChanged(ev: any) {\n    this.selectedTab = ev.detail.value;\n  }\n\n  async newType(){\n    const modal = await this.modal.create({\n      component: NewSpecieComponent,\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadSpecies(); }\n  }\n\n  async newColorOption(){\n    this.newColorShow = true;\n    this.newColor = { name: '', color: '', rgbCode: ''}\n  }\n\n  async editColor(color){\n    this.newColorShow = true;\n    this.newColor = color;\n  }\n\n  async openSpecieDetail(specie){\n    const modal = await this.modal.create({\n      component: SpecieDetailComponent,\n      componentProps: { specie },\n      mode: 'ios',\n    });\n    modal.present();\n  }\n\n  async saveColorData(){\n    try {\n      this.loadingColor = true;\n      if(this.newColor.uid){\n        await this.pets.updateColor(this.newColor.uid, this.newColor)\n      } else {\n        await this.pets.createColor(this.newColor)\n      }\n      this.alerts.showAlert('COLORES',this.newColor.uid? 'Color ha sido actulizado' : 'Nuevo color agregado','OK');\n      await this.loadSpecies();\n      this.newColorShow = false;\n      this.loadingColor = false;\n      this.newColor = { name: '', color: '', rgbCode: ''}\n    } catch (error) {\n      console.log(error);\n      this.loadingColor = false;\n    }\n  }\n\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Species } from 'src/app/core/models/species';\nimport { ButtonBack } from 'src/app/shared/components/view/detail-header/detail-header.component';\n\n@Component({\n  selector: 'app-specie-detail',\n  templateUrl: './specie-detail.component.html',\n  styleUrls: ['./specie-detail.component.scss'],\n})\nexport class SpecieDetailComponent implements OnInit {\n  @Input() specie: Species;\n  backButton: ButtonBack = { modal: true };\n  loading = false;\n\n  constructor() { }\n\n  ngOnInit() {\n    console.log(this.specie)\n  }\n\n  saveData(){\n    \n  }\n\n}\n"],"names":["Component","IonRouterOutlet","ModalController","PetService","AlertsService","NewSpecieComponent","SpecieDetailComponent","PetManagerPage","constructor","pets","alerts","modal","routerOutlet","ngOnInit","loadData","loading","loadPets","loadSpecies","petList","readPetList","error","console","log","speciesList","readSpecies","colorList","readColors","doRefresh","refresh","selectedTab","target","complete","segmentChanged","ev","detail","value","newType","create","component","mode","presentingElement","nativeEl","present","modalResult","onWillDismiss","data","newColorOption","newColorShow","newColor","name","color","rgbCode","editColor","openSpecieDetail","specie","componentProps","saveColorData","loadingColor","uid","updateColor","createColor","showAlert","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}