{"version":3,"file":"src_app_pages_client_profile-client_profile-client_module_ts.js","mappings":"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","sources":["./src/app/pages/client/profile-client/profile-client-routing.module.ts","./src/app/pages/client/profile-client/profile-client.module.ts","./src/app/pages/client/profile-client/profile-client.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfileClientPage } from './profile-client.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfileClientPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfileClientPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfileClientPageRoutingModule } from './profile-client-routing.module';\n\nimport { ProfileClientPage } from './profile-client.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    ReactiveFormsModule,\n    ProfileClientPageRoutingModule\n  ],\n  declarations: [ProfileClientPage]\n})\nexport class ProfileClientPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User, userFormData } from 'src/app/core/models/user';\nimport { AlertsService } from 'src/app/shared/utilities/alerts';\nimport { VerificationFuncService } from 'src/app/shared/utilities/verificationFunc';\nimport { attachmentOptions, UserPhoto } from 'src/app/core/models/images';\nimport { AttachmentsService } from 'src/app/shared/utilities/attachments.service';\nimport { ImageUploaderService } from 'src/app/core/services/image-uploader.service';\nimport { NewPetComponent } from 'src/app/shared/components/pets/new-pet/new-pet.component';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { Pet } from 'src/app/core/models/species';\nimport { PetService } from 'src/app/core/services/modules/pet-service.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { NewNoticeComponent } from 'src/app/shared/components/new-notice/new-notice.component';\n\n@Component({\n  selector: 'app-profile-client',\n  templateUrl: './profile-client.page.html',\n  styleUrls: ['./profile-client.page.scss'],\n})\nexport class ProfileClientPage implements OnInit {\n  loading = false;\n  edit = false;\n  defaultUser = '../../../../assets/profile/ProfileBlank.png';\n  newImage;\n  progress=0;\n\n  user: User;\n  userData: userFormData;\n  petList: Pet[] = [];\n\n  registerForm: FormGroup;\n  validationMessages  = {\n    name:[ {type: 'required', message: ' Escribe tu nombre'},],\n    lastName:[ {type: 'required', message: ' Escribe tu apellido'},],\n    birthday:[ {type: 'required', message: ' Ingresa tu fecha de nacimiento'},]\n  };\n\n  constructor(\n    private router: Router,\n    private pets: PetService,\n    private alerts: AlertsService,\n    private upload: ImageUploaderService,\n    private images: AttachmentsService,\n    private modal: ModalController,\n    private routerOutlet: IonRouterOutlet,\n    private formBuilder: FormBuilder,\n    private auth: FireAuthService,\n    private verification: VerificationFuncService,\n  ) { }\n\n  ngOnInit() {\n    this.registerForm = this.formBuilder.group({\n      name:[null, { validators: [Validators.required, Validators.minLength(2)] }],\n      lastName:[null, { validators: [Validators.required, Validators.minLength(3)] }],\n      birthday:[null, { validators: [Validators.required] }]\n    });\n    this.checkUser().then(ok => {\n      this.images.loadSaved().then((attachment: any) => {\n        if (attachment.length && attachment[0].deploy){\n          this.changeProfileImage(attachment[0]);\n        }\n      });\n    });\n  }\n\n  EnterSubmit(evt, form){\n    this.verification.EnterSubmit(evt,form,this.loading).then(answer => {\n      if(answer){ console.log('Enter') }\n    })\n  }\n\n  checkUser() {\n    return new Promise((resolve, reject) => {\n      try {\n        this.loading = true;\n        this.auth.checkUser().then((user: any) =>{\n          this.user = user.user;\n          this.userData = user.data;\n          this.loadMyPets().then(ok => {\n            this.loading = false;\n            resolve('done')\n          });\n        });\n      } catch (error) {\n        console.log(error);\n        this.loading = false;\n        reject(error);\n      }\n    })\n  }\n\n  async loadMyPets(){\n    try {\n      this.petList = await this.pets.myPetList(this.user.uid);\n      return 'done';\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  editForm(){\n    if(!this.edit){\n      this.edit = !this.edit;\n      this.registerForm = this.formBuilder.group({\n        name:[this.userData.name, { validators: [Validators.required, Validators.minLength(2)] }],\n        lastName:[this.userData.lastName, { validators: [Validators.required, Validators.minLength(3)] }],\n        birthday:[this.userData.birthDate, { validators: [Validators.required] }]\n      });\n    } else {\n      const newValues = this.registerForm.value;\n      const nameCheck = this.userData.name !== newValues.name;\n      const lastNameCheck = this.userData.lastName !== newValues.lastName;\n      const birthDateCheck = this.userData.birthDate !== newValues.birthday;\n      if(nameCheck || lastNameCheck || birthDateCheck) {\n        this.loading = true;\n        const data = {\n          ...this.userData,\n          name: newValues.name,\n          lastName: newValues.lastName,\n          birthDate: newValues.birthday\n        }\n        this.auth.uploadUserForm(this.user.uid, data)\n        .then(ok => { \n          this.edit = !this.edit;\n          this.alerts.showAlert('PERFIL','Tus datos han sido actualizados','OK');\n          this.checkUser();\n          this.loading = false;\n        })\n      } else{\n        this.edit = !this.edit;\n      }\n    }\n  }\n\n  // IMAGE SYSTEM\n  addPhoto() {\n    const options: attachmentOptions = {\n      currentRoute: 'manager/profile',\n      height:null, width:null, pdf: false\n    }\n    this.images.presentImageOptions(options).then(imageObj => {\n      if (imageObj[0] !== undefined){\n        this.changeProfileImage(imageObj[0]);\n      }\n    });\n  }\n\n  changeProfileImage(image: UserPhoto){\n    this.loading = true;\n    this.newImage = image;\n    const imageName = Date().toString()+'_'+this.user.uid;\n    this.upload.uploadFile('profile',imageName, image.file,\n    (progress)=>{ this.progress = progress })\n    .then((data:any) => {\n      this.auth.updateUser('administrador', data.url).then(done => {\n        this.alerts.showAlert('PERFIL','Tus imagen de perfil ha sido actualizada','OK');\n        this.upload.deletePicture();\n        this.newImage = null;\n        this.checkUser();\n        this.loading = false;\n      })\n    })\n  }\n\n  upgradeProfile(){\n    this.loading = true;\n    this.auth.upgradeUser().then((done: any) => {\n      this.alerts.showAlert('PERFIL',done,'OK');\n      this.checkUser();\n      this.loading = false;\n    })\n  }\n\n  async doRefresh(refresh?){\n    await this.checkUser().then(done => {\n      console.log('done');\n      if (refresh){ refresh.target.complete(); }\n    }).catch(error => {\n      console.log(error);\n      if (refresh){ refresh.target.complete(); }\n    })\n  }\n\n  async newPet(){\n    const modal = await this.modal.create({\n      component: NewPetComponent,\n      componentProps: {pet: null, userData: this.userData},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadMyPets(); }\n  }\n\n  async editPet(pet){\n    const modal = await this.modal.create({\n      component: NewPetComponent,\n      componentProps: {pet, userData: this.userData},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){\n      console.log(modalResult.data.action)\n      if(modalResult.data.action === 'update'){\n        this.loadMyPets(); \n      } else if(modalResult.data.action === 'report') {\n        this.newReport(modalResult.data.pet);\n      }\n    }\n  }\n\n  async newReport(pet){\n    const modal = await this.modal.create({\n      component: NewNoticeComponent,\n      componentProps: {notice: null, user: this.userData, pet},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.router.navigateByUrl('client/news'); }\n  }\n}\n"],"names":["Component","Router","AlertsService","VerificationFuncService","AttachmentsService","ImageUploaderService","NewPetComponent","IonRouterOutlet","ModalController","PetService","FormBuilder","Validators","FireAuthService","NewNoticeComponent","ProfileClientPage","constructor","router","pets","alerts","upload","images","modal","routerOutlet","formBuilder","auth","verification","name","type","message","lastName","birthday","ngOnInit","registerForm","group","validators","required","minLength","checkUser","then","ok","loadSaved","attachment","length","deploy","changeProfileImage","EnterSubmit","evt","form","loading","answer","console","log","Promise","resolve","reject","user","userData","data","loadMyPets","error","petList","myPetList","uid","editForm","edit","birthDate","newValues","value","nameCheck","lastNameCheck","birthDateCheck","uploadUserForm","showAlert","addPhoto","options","currentRoute","height","width","pdf","presentImageOptions","imageObj","undefined","image","newImage","imageName","Date","toString","uploadFile","file","progress","updateUser","url","done","deletePicture","upgradeProfile","upgradeUser","doRefresh","refresh","target","complete","catch","newPet","create","component","componentProps","pet","mode","presentingElement","nativeEl","present","modalResult","onWillDismiss","editPet","action","newReport","notice","navigateByUrl","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}