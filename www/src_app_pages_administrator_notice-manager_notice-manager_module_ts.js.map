{"version":3,"file":"src_app_pages_administrator_notice-manager_notice-manager_module_ts.js","mappings":"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","sources":["./src/app/pages/administrator/notice-manager/notice-manager-routing.module.ts","./src/app/pages/administrator/notice-manager/notice-manager.module.ts","./src/app/pages/administrator/notice-manager/notice-manager.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NoticeManagerPage } from './notice-manager.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NoticeManagerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NoticeManagerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NoticeManagerPageRoutingModule } from './notice-manager-routing.module';\n\nimport { NoticeManagerPage } from './notice-manager.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    NoticeManagerPageRoutingModule\n  ],\n  declarations: [NoticeManagerPage]\n})\nexport class NoticeManagerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\nimport { Notice } from 'src/app/core/models/notice';\nimport { User, userFormData } from 'src/app/core/models/user';\nimport { FireAuthService } from 'src/app/core/services/modules/fire-auth.service';\nimport { NewNoticeComponent } from 'src/app/shared/components/notices/new-notice/new-notice.component';\nimport { NoticeService } from 'src/app/core/services/modules/notice.service';\n\n@Component({\n  selector: 'app-notice-manager',\n  templateUrl: './notice-manager.page.html',\n  styleUrls: ['./notice-manager.page.scss'],\n})\nexport class NoticeManagerPage implements OnInit {\n  user: User;\n  userData: userFormData;\n  loading = true;\n  loadingColor = false;\n  loadingList = [1,2,3,4,5]\n\n  noticeList: Notice[] = [];\n\n  constructor(\n    private auth: FireAuthService,\n    private notices: NoticeService,\n    private modal: ModalController,\n    private routerOutlet: IonRouterOutlet,\n  ) { }\n\n  ngOnInit(){\n    this.loading = true;\n    this.auth.checkUser().then((user: any) =>{\n      console.log(user)\n      this.user = user.user;\n      this.userData = user.data;\n      this.loadData().then(() => {\n        this.loading = false;\n      })\n    });\n  }\n\n  async loadData(){\n    try {\n      this.noticeList = await this.notices.readNoticeList();\n      return 'done';\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async detailNotice(notice){\n    const modal = await this.modal.create({\n      component: NewNoticeComponent,\n      componentProps: {notice, user: this.userData, delete: true},\n      mode: 'ios',\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    modal.present();\n    const modalResult = await modal.onWillDismiss();\n    if(modalResult.data){ this.loadData(); }\n  }\n\n\n  doRefresh(refresh?){\n    this.loadData().then(done => {\n      if (refresh){ refresh.target.complete(); }\n    }).catch(error => {\n      console.log(error);\n      if (refresh){ refresh.target.complete(); }\n    })\n  }\n\n  async reloadData(reload){\n    const that = this;\n    if(reload){that.noticeList = await that.notices.readNoticeList();}\n  }\n\n}\n"],"names":["Component","IonRouterOutlet","ModalController","FireAuthService","NewNoticeComponent","NoticeService","NoticeManagerPage","constructor","auth","notices","modal","routerOutlet","ngOnInit","loading","checkUser","then","user","console","log","userData","data","loadData","noticeList","readNoticeList","error","detailNotice","notice","create","component","componentProps","delete","mode","presentingElement","nativeEl","present","modalResult","onWillDismiss","doRefresh","refresh","done","target","complete","catch","reloadData","reload","that","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}